with Ada.Text_IO;                       use Ada.Text_IO;
with Ada.Integer_Text_IO;               use Ada.Integer_Text_IO;
with Ada.Command_Line;                  use Ada.Command_Line;
with Ada.Numerics.Discrete_Random;

procedure lab3delb is
   
   type Integer_Array is array (1..20) of Integer;
   type Matrix is array (1..2) of Integer_Array;
   
    --Underprogram för generering av nummer
   procedure Generate_Numbers(Random_Ar : out Matrix) is
      subtype Num is Integer range 1 .. 10;
      package Random_Num is 
	 new Ada.Numerics.Discrete_Random(Result_Subtype => Num);
         use Random_Num;
      G : Generator;
            
   begin
      Reset(G);
      for I in 1 .. 20 loop
	 for P in 1 .. 2 loop
	    Random_Ar(P)(I) := Random(G);
	 end loop;
	 --Put(Random_Ar(I), Width => 1); (testline för generation)
	 --New_Line;
      end loop;
   end Generate_Numbers;
   
   --Underprogram för swappande av numren
   procedure Swap(A, B : in out Integer) is
      C : Integer := 1;
   begin
      C := A;
      A := B;
      B := C;
   end Swap;
   
   --Underprogram för sortering av numren
   procedure Sort(Ar : in out Integer_Array) is
      begin
	 for K in  2 .. 19 loop
	    for I in reverse K .. 20 loop
	       if Ar(I) < Ar(I-1) then
		  Swap(Ar(I), Ar(I-1));
	       end if;
	    end loop;
	 end loop;
      end Sort;
	      
      Ar  : Integer_Array;
      Mat : Matrix;
   
begin   
   Generate_Numbers(Mat);
      for I in 1 .. 20 loop
	 Put(Mat(1)(I), Width => 3);
	 Put(Mat(2)(I), Width => 5);
	 New_Line;
      end loop;
   
   New_Line;
   Put("Sortering av numren:");
   New_Line;
   
   Sort(Ar);
   for I in 1 .. 40 loop
      Put(Ar(I), Width => 1);
      New_Line;
   end loop;
      
end lab3delb;
